<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{{ title }}</title>
  <meta name="description" content="{{ description }}">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="theme-color" content="#fff">
  <link rel="manifest" href="timetagger_manifest.json">
  <link rel="icon" sizes="192x192" href="timetagger192filled.png">
  <link rel="apple-touch-icon" href="timetagger192noalpha.png">

  <style>
  {{ embedded_style }}
  </style>

  <link rel="stylesheet" href="style.css">

  <script>
  window.timetaggerversion = '{{ versionstring }}';
  // Detect features
  window.browser_supported = false;
  if (window.crypto && window.crypto.getRandomValues &&
      window.atob && window.history && window.Uint8Array &&
      window.localStorage && window.indexedDB
      ) {
      window.browser_supported = true;  // probably
  }
  // Update menu content
  window.addEventListener("load", function() {
    var menu = document.getElementById("header-content");
    if (!window.browser_supported) {
        menu.innerHTML = "This browser is not supported, please use (a modern version of) Firefox, Chrome, Safari, or Edge.";
    }
  });
  </script>

</head>

<body>

<main>
    <div class='content' id='main-content'>
        {{ main }}
    </div>
</main>

<iframe id="authframe" src="about:blank" title="background auth refresher"
    style="border: none; position: absolute; top: 0; width: 1px; height: 1px;">
</iframe>

</body>
</html>
